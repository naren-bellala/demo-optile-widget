<!DOCTYPE html>
<html>
    <head>
        <title>Hosted Payment Page</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <link
            rel="stylesheet"
            href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
            integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
            crossorigin="anonymous"
        />

        <!-- dependencies needed for op-payment-widget-v3 -->
        <script
            src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"
        ></script>
        <script type="text/javascript" src="./op-payment-widget-v3.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
        <link rel="stylesheet" type="text/css" href="./op-payment-widget-v3.min.css" />
        <!--  end of dependencies needed for op-payment-widget-v3 -->

        <!-- Needed for Bootstrap css apps in non selective native -->
        <style>
            .op-payment-widget-container .row {
                display: block;
            }
        </style>
        <!-- end of Needed for Bootstrap css apps in non selective native -->

        <!-- Js script for op-payment-widget-v3 -->
        <script type="text/javascript">
            function getUrlVars()
            {
                var vars = [], hash;
                var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
                for(var i = 0; i < hashes.length; i++)
                {
                    hash = hashes[i].split('=');
                    vars.push(hash[0]);
                    vars[hash[0]] = hash[1];
                }
                return vars;
            }
            function initPaymentPage() {
                var dict = {};
                
                if (getUrlVars()["listid"])
                {
                    checkoutList('paymentNetworks', {
                        listUrl:`https://api.sandbox.oscato.com/pci/v1/${getUrlVars()["listid"]}`,
                        payButton: 'submitBtn',
                        payButtonContainer: 'submitBtnContainer',
                        widgetCssUrl: 'https://cdn.oscato.com/op-payment-widget-v3/build/op-payment-widget-v3.min.css',
                        cardView: true,
                        useAnimations:true,
                    });
                } else {
                    console.log("supply valid list id")
                }
            }
            document.addEventListener('DOMContentLoaded', function (event) {
                initPaymentPage();
            });
        </script>
        <!--  end of Js script for op-payment-widget-v3 -->
    </head>

    <body>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="#">Demo shop</a>
            <button
                class="navbar-toggler"
                type="button"
                data-toggle="collapse"
                data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
        </nav>

        <!-- container needed for loading the payment methods in op-payment-widget-v3 -->
        <div id="paymentNetworks" class="payment-networks-container"></div>
        <!-- end of container needed for loading the payment methods in  op-payment-widget-v3 -->

        <!-- buttons container and the main submit button used for triggering payment in op-payment-widget-v3 -->
        <div id="submitBtnContainer" class="submit-buttons-container">
            <button id="submitBtn" type="button" class="submit-button"></button>
        </div>
        <!-- end of buttons container and the main submit button used for triggering payment in op-payment-widget-v3 -->

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"
        ></script>
    </body>
</html>
